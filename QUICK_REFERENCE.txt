â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                                                                           â•‘
â•‘                 WireShield 2FA + SSL/TLS Quick Reference                 â•‘
â•‘                                                                           â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸš€ INSTALLATION
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

  git clone https://github.com/siyamsarker/WireShield.git
  cd WireShield
  sudo ./wireshield.sh

  When prompted:
  â”œâ”€ Public IP or domain: Enter your server's public IP
  â”œâ”€ UDP port: Press Enter for random (or enter specific port)
  â”œâ”€ DNS: Press Enter for 8.8.8.8, 1.1.1.1 (Google, Cloudflare)
  â”œâ”€ Configure SSL/TLS? (y/n): Enter 'y'
  â”œâ”€ Choose SSL type:
  â”‚  â”œâ”€ 1) Let's Encrypt (recommended for domains)
  â”‚  â””â”€ 2) Self-signed (for IP addresses)
  â””â”€ Enter domain or IP: vpn.example.com or 1.2.3.4

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“± USER CONNECTION FLOW
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

  1. User adds WireGuard config from server
  2. User connects with WireGuard client
  3. Browser redirects to: https://your.domain:8443/?client_id=xxx
  4. User scans QR code with Google Authenticator
  5. User enters 6-digit code from phone
  6. VPN access granted (24-hour session)
  7. On reconnect after 24h: repeat verification

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ”§ MANAGEMENT COMMANDS
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

  Check 2FA service status
  $ sudo systemctl status wireshield-2fa

  View live logs
  $ sudo journalctl -u wireshield-2fa -f

  Enable 2FA for specific client
  $ sudo /etc/wireshield/2fa/2fa-helper.sh enable alice

  Disable 2FA for client
  $ sudo /etc/wireshield/2fa/2fa-helper.sh disable alice

  Check client 2FA status
  $ sudo /etc/wireshield/2fa/2fa-helper.sh status alice

  View all clients in database
  $ sudo sqlite3 /etc/wireshield/2fa/auth.db \
      "SELECT username, enabled, created_at FROM users;"

  View auth attempts (audit log)
  $ sudo sqlite3 /etc/wireshield/2fa/auth.db \
      "SELECT * FROM audit_log ORDER BY timestamp DESC LIMIT 20;"

  Check SSL certificate expiry
  $ sudo openssl x509 -in /etc/wireshield/2fa/certs/cert.pem \
      -text -noout | grep -A 2 "Not After"

  Check SSL renewal timer
  $ sudo systemctl status wireshield-2fa-renewal.timer

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“‚ IMPORTANT PATHS
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

  2FA configuration
  â””â”€ /etc/wireshield/2fa/

  2FA database
  â””â”€ /etc/wireshield/2fa/auth.db

  SSL certificates
  â”œâ”€ /etc/wireshield/2fa/certs/cert.pem         (Certificate)
  â”œâ”€ /etc/wireshield/2fa/certs/key.pem          (Private key)
  â””â”€ /etc/wireshield/2fa/certs/fullchain.pem    (Full chain, LE only)

  SSL configuration
  â””â”€ /etc/wireshield/2fa/config.env

  2FA service
  â””â”€ /etc/systemd/system/wireshield-2fa.service

  Renewal timer (Let's Encrypt only)
  â””â”€ /etc/systemd/system/wireshield-2fa-renewal.timer

  WireGuard configs
  â”œâ”€ /etc/wireguard/wg0.conf                    (Server config)
  â””â”€ $HOME/                                     (Client configs)

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ” SSL/TLS OPTIONS COMPARISON
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

  Option              Let's Encrypt    Self-signed      No SSL
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  Trusted             âœ“ Yes            âœ— No (warning)   N/A
  Domain support      âœ“ Yes            âœ“ Yes            âœ“ Yes
  IP address          âœ— No             âœ“ Yes            âœ“ Yes
  Auto-renewal        âœ“ Yes (daily)    âœ— Manual         N/A
  Expiry              90 days          365 days         N/A
  Production ready    âœ“ Yes            ~ Acceptable     âœ— No
  Setup complexity    Medium           Simple           Simple

  Recommendation:
  â”œâ”€ Domain with public access  â†’ Let's Encrypt â­
  â”œâ”€ IP address or internal     â†’ Self-signed â­
  â””â”€ Development/testing only   â†’ No SSL (localhost)

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ†˜ TROUBLESHOOTING
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

  2FA service not starting
  $ sudo journalctl -u wireshield-2fa -n 50

  Let's Encrypt renewal failing
  $ sudo systemctl status wireshield-2fa-renewal.timer
  $ sudo journalctl -u wireshield-2fa-renewal.service

  SSL certificate issues
  $ sudo openssl x509 -in /etc/wireshield/2fa/certs/cert.pem -text

  Port 8443 already in use
  $ sudo lsof -i :8443          (Check what's using it)
  $ sudo systemctl stop wireshield-2fa
  $ sudo systemctl start wireshield-2fa

  User can't verify (wrong code)
  $ sudo sqlite3 /etc/wireshield/2fa/auth.db \
      "DELETE FROM users WHERE username='alice';"

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“š DOCUMENTATION
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

  Start here           â†’ 00_START_HERE.md
  Quick start          â†’ 2fa-auth/QUICKSTART.md
  SSL configuration    â†’ 2fa-auth/SSL_CONFIGURATION.md
  Full deployment      â†’ DEPLOYMENT_2FA.md
  API reference        â†’ 2fa-auth/README.md
  Architecture         â†’ IMPLEMENTATION_SUMMARY.md
  QA/Security          â†’ VERIFICATION_REPORT.md
  Project summary      â†’ FINAL_SUMMARY.md

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

âœ¨ TIPS & BEST PRACTICES
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

  1. Use Let's Encrypt for production (auto-renewal, trusted)
  2. Monitor Let's Encrypt renewal: subscribe to renewal timer errors
  3. Backup database: sudo cp /etc/wireshield/2fa/auth.db ~/auth.db.bak
  4. Educate users about Google Authenticator app
  5. Create test clients first to verify 2FA flow
  6. Enable firewall to restrict access if needed
  7. Review audit logs regularly for suspicious activity
  8. Keep system updated: sudo apt update && sudo apt upgrade

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Version: 1.0
Last Updated: 2024
Status: Production Ready âœ…

