{{define "content"}}
<section>
  <h2>Add client</h2>
  {{if .Error}}<article role="alert">{{.Error}}</article>{{end}}
  {{if .Success}}
    <article>Client created successfully.</article>
    {{with .Result}}
    <pre class="mono">Name: {{.name}}
IPv4: {{.ipv4}}
IPv6: {{.ipv6}}
Expires: {{if .expires}}{{.expires}}{{else}}none{{end}}
Config: {{.config_path}}</pre>
    {{end}}
  {{end}}
  <form method="post" action="/clients/new">
    <input type="hidden" name="csrf" value="{{.CSRF}}" />
    <label>Name
      <input name="name" required pattern="[A-Za-z0-9_-]{1,15}" title="Letters, numbers, underscore or dash; max 15" placeholder="e.g. alice-phone" autocomplete="off" />
      <small class="muted">Allowed: letters, numbers, _ or - (max 15)</small>
    </label>
    <label>Expires in days (optional)
      <input type="number" name="days" min="1" inputmode="numeric" placeholder="e.g. 30" />
      <small class="muted">Leave blank for no expiration</small>
    </label>
    <button type="submit">Create</button>
  </form>
</section>
{{end}}
{{template "layout" .}}
